---
import { NumberSign } from './svg'
import { timeSincePublication } from '../utils/functions'

interface Props {
  slug: string
  title: string
  description: string
  tags: string[]
  pubDate: Date
  index: number
}

const {
  slug,
  title,
  description,
  tags,
  pubDate,
  index,
} = Astro.props

---

<a href={`posts/${slug}`} target="_blank" rel="noopener noreferrer" >
  <article class="relative p-5 rounded-md border-2 hover:border-orange-500 border-transparent dark:bg-slate-600/30 bg-orange-300/30 hover:bg-orange-100/20">
    <h1 class="text-xl font-medium">{title}</h1>
    <p class="my-2">{description.length > 100 ? description.substring(0, 99) + " ..." : description}</p>
    <div class="flex flex-wrap gap-2 my-5">
      {
        tags.map(tag => (
          <span class="px-3 py-1 bg-gradient-to-r from-orange-500 to-yellow-500 text-white dark:text-black text-sm font-medium rounded-full">{tag}</span>
        ))
      }
    </div>
    <p class="text-sm font-regular dark:text-gray-200 text-gray-600">
      {timeSincePublication(pubDate)}
    </p>
    <div class="absolute bottom-4 right-4 flex gap-x-1 items-center text-orange-500 dark:text-gray-400">
      <NumberSign classProps="w-8 h-8" />
      <span class="font-bold text-2xl">{index}</span>
    </div>
  </article>
</a>